<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Albany Aegis Initiative | Data-Driven Public Safety</title>
    <meta name="description" content="Using behavioral science, advanced technology, and economic innovation to reduce crime and foster systemic progress in Albany, NY.">

    <!-- Favicon -->
    <link rel="icon" href="https://iconsusa.org/assets/icons_copy/aai-seal-1.svg" />

    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Font Awesome Icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet" />

    <!-- Custom Styles & Tailwind Config -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .textured-bg {
            background-image: radial-gradient(circle at 1px 1px, rgba(255,255,255,0.05) 1px, transparent 0);
            background-size: 2rem 2rem;
        }
        @keyframes count-up {
            from { transform: translateY(1rem); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        .count-up {
            animation: count-up 0.5s ease-out forwards;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        .loader {
            border: 4px solid rgba(255, 255, 255, 0.2);
            border-left-color: #FF6600;
            border-radius: 50%;
            width: 2rem;
            height: 2rem;
            animation: spin 1s linear infinite;
        }
    </style>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        'brand-dark': '#001e48', // Dark version of the NY Blue
                        'brand-light': '#FFFFFF',
                        'brand-primary': {
                            DEFAULT: '#003884', // NY Blue
                            'light': '#1a5bb5',
                            'dark': '#002766'
                        },
                        'brand-accent': {
                            DEFAULT: '#FF6600', // NY Orange
                            'dark': '#e65c00'
                        },
                        'brand-secondary': '#FF6600', // NY Orange as secondary
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-brand-light dark:bg-brand-dark antialiased text-gray-700 dark:text-gray-300">

    <!-- Header -->
    <header id="header" class="bg-white/80 dark:bg-brand-dark/80 backdrop-blur-lg sticky top-0 z-50 transition-all duration-300 border-b border-gray-200 dark:border-gray-700/50">
        <div class="container mx-auto px-4">
            <nav class="flex justify-between items-center py-3">
                <!-- Logo -->
                <a href="index.html" class="flex items-center gap-3">
                    <img src="https://iconsusa.org/assets/icons_copy/aai-seal-1.svg" alt="AAI Seal" class="h-10 w-10">
                    <span class="text-xl font-bold text-gray-900 dark:text-white hidden sm:inline tracking-tight">Albany Aegis</span>
                </a>
                <!-- Desktop Navigation -->
                <div class="hidden md:flex items-center gap-1 text-sm font-medium">
                    <a href="index.html" class="bg-gray-100 dark:bg-gray-700 text-brand-primary dark:text-white px-3 py-2 rounded-md">Home</a>
                    <a href="about.html" class="text-gray-600 dark:text-gray-300 hover:text-brand-primary dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 px-3 py-2 rounded-md transition-colors">About</a>
                    <a href="crime-data.html" class="text-gray-600 dark:text-gray-300 hover:text-brand-primary dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 px-3 py-2 rounded-md transition-colors">Crime Data</a>
                    <a href="visualizations.html" class="text-gray-600 dark:text-gray-300 hover:text-brand-primary dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 px-3 py-2 rounded-md transition-colors">Visualizations</a>
                    <a href="aai-live-crime-map/index.html" class="text-gray-600 dark:text-gray-300 hover:text-brand-primary dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 px-3 py-2 rounded-md transition-colors">Live Map</a>
                    <a href="contact.html" class="text-gray-600 dark:text-gray-300 hover:text-brand-primary dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 px-3 py-2 rounded-md transition-colors">Contact</a>
                </div>
                <!-- Action Buttons -->
                <div class="flex items-center gap-2">
                    <button id="theme-toggle" type="button" class="text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5">
                        <svg id="theme-toggle-dark-icon" class="hidden w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg>
                        <svg id="theme-toggle-light-icon" class="hidden w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm-.707 7.072l.707-.707a1 1 0 10-1.414-1.414l-.707.707a1 1 0 001.414 1.414zM3 11a1 1 0 100-2H2a1 1 0 100 2h1z" fill-rule="evenodd" clip-rule="evenodd"></path></svg>
                    </button>
                    <button id="mobile-menu-button" class="md:hidden p-2 text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg">
                        <i class="fas fa-bars fa-lg"></i>
                    </button>
                    <a href="crime-data.html" class="bg-brand-primary text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-brand-primary-dark transition-all duration-300 hidden sm:inline-flex items-center gap-2 group">
                        Live Data <i class="fa-solid fa-arrow-right transform group-hover:translate-x-1 transition-transform"></i>
                    </a>
                </div>
            </nav>
            <!-- Mobile Menu -->
            <div id="mobile-menu" class="hidden md:hidden py-2 space-y-1">
                <a href="index.html" class="block py-2 px-4 text-sm text-brand-primary dark:text-white font-semibold bg-gray-100 dark:bg-gray-700 rounded-md">Home</a>
                <a href="about.html" class="block py-2 px-4 text-sm text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md">About</a>
                <a href="crime-data.html" class="block py-2 px-4 text-sm text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md">Crime Data</a>
                <a href="visualizations.html" class="block py-2 px-4 text-sm text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md">Visualizations</a>
                <a href="aai-live-crime-map/index.html" class="block py-2 px-4 text-sm text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md">Live Map</a>
                <a href="contact.html" class="block py-2 px-4 text-sm text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md">Contact</a>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <!-- Hero Section -->
        <section class="relative text-white overflow-hidden bg-brand-dark">
            <div class="absolute inset-0 bg-contain bg-no-repeat bg-bottom" style="background-image: url('assets/images/20250702_1418_Orange Skyline Outline_remix_01jz65q3wve169bv5pcfehh08v.png');"></div>
            <div class="absolute inset-0 bg-gradient-to-b from-brand-dark/80 via-brand-dark/60 to-brand-dark/80"></div>
            
            <div class="container mx-auto px-4 relative z-10 pt-24 pb-20 md:pt-32 md:pb-28 text-center">
                <a href="#pillars" class="inline-flex items-center gap-2 bg-black/30 backdrop-blur-sm text-orange-300 px-4 py-1 rounded-full text-sm font-semibold mb-6 hover:bg-black/40 transition-colors">
                    <i class="fa-solid fa-shield-halved"></i> Our Mission
                </a>
                <h1 class="text-4xl md:text-6xl font-extrabold tracking-tighter text-white leading-tight" style="text-shadow: 0 0 15px rgba(0,0,0,0.7);">Building a Safer and Stronger Albany.</h1>
                <p class="mt-6 text-lg md:text-xl text-gray-200 max-w-3xl mx-auto" style="text-shadow: 0 0 10px rgba(0,0,0,0.7);">A forward-looking program to reduce crime, combat corruption, and foster systemic progress by combining behavioral science, advanced technology, and economic innovation.</p>
                <div class="mt-10 flex flex-col sm:flex-row justify-center gap-4">
                    <a href="aai-live-crime-map/index.html" class="bg-brand-accent hover:bg-brand-accent-dark text-white font-bold py-3 px-8 rounded-full transition-transform transform hover:scale-105 shadow-lg">View Live Crime Map</a>
                    <a href="#data" class="bg-black/30 backdrop-blur-sm hover:bg-black/40 text-white font-bold py-3 px-8 rounded-full transition-colors">See Incident Feed</a>
                </div>
            </div>
            
            <!-- Stats Bar -->
            <div class="relative z-10 pb-20">
                <div class="container mx-auto px-4">
                    <div class="bg-black/40 backdrop-blur-sm border border-white/20 rounded-xl p-6 grid grid-cols-2 md:grid-cols-4 gap-y-6 text-center">
                        <div class="count-up">
                            <p class="text-3xl lg:text-4xl font-bold text-white">1,204</p>
                            <p class="text-sm font-medium text-gray-300 uppercase tracking-wider">Incidents This Year</p>
                        </div>
                        <div class="count-up" style="animation-delay: 0.1s;">
                            <p class="text-3xl lg:text-4xl font-bold text-red-500">3</p>
                            <p class="text-sm font-medium text-gray-300 uppercase tracking-wider">Active Alerts</p>
                        </div>
                        <div class="count-up" style="animation-delay: 0.2s;">
                            <p class="text-3xl lg:text-4xl font-bold text-emerald-400">98.2%</p>
                            <p class="text-sm font-medium text-gray-300 uppercase tracking-wider">Data Accuracy</p>
                        </div>
                        <div class="count-up" style="animation-delay: 0.3s;">
                            <p class="text-3xl lg:text-4xl font-bold text-yellow-400">24/7</p>
                            <p class="text-sm font-medium text-gray-300 uppercase tracking-wider">Monitoring</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- AI News Briefing Section -->
        <section id="ai-briefing" class="py-20 sm:py-28 bg-gray-100 dark:bg-gray-900/50">
            <div class="container mx-auto px-4">
                <div class="text-center mb-12">
                     <h2 class="text-3xl font-bold tracking-tight text-gray-900 dark:text-white sm:text-4xl">AI-Powered News Briefing</h2>
                     <p class="mt-4 text-lg text-gray-600 dark:text-gray-400 max-w-2xl mx-auto">Get the latest crime and safety headlines from across Albany, powered by generative AI.</p>
                     <button id="fetch-headlines-btn" class="mt-6 bg-brand-accent hover:bg-brand-accent-dark text-white font-bold py-3 px-8 rounded-full transition-transform transform hover:scale-105 shadow-lg flex items-center gap-3 mx-auto">
                        <i class="fa-solid fa-newspaper"></i>
                        Get Latest Headlines
                    </button>
                </div>
                <div id="headlines-container" class="max-w-4xl mx-auto space-y-4">
                    <div id="headlines-loader" class="hidden justify-center items-center py-8">
                        <div class="loader"></div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Live Situation Section -->
        <section id="data" class="py-20 sm:py-28">
            <div class="container mx-auto px-4">
                <div class="text-center mb-16">
                     <h2 class="text-3xl font-bold tracking-tight text-gray-900 dark:text-white sm:text-4xl">Live Feeds & Analysis</h2>
                     <p class="mt-4 text-lg text-gray-600 dark:text-gray-400 max-w-2xl mx-auto">Access our AI-driven scanner analysis and the live audio feed.</p>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-5 gap-8 items-start">
                    <!-- AI-Powered Incident Blotter -->
                    <div class="lg:col-span-3 bg-white dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700/50 shadow-lg h-full overflow-hidden">
                        <div class="p-5 border-b border-gray-200 dark:border-gray-700/50">
                            <h3 class="text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-3">
                                <i class="fa-solid fa-wave-square text-brand-primary"></i>
                                AI Scanner Analysis
                            </h3>
                        </div>
                        <div id="incident-feed-container" class="p-3 space-y-2">
                             <div id="incident-loader" class="hidden justify-center items-center py-8">
                                <div class="loader"></div>
                            </div>
                            <p id="incident-placeholder" class="p-4 text-gray-500 dark:text-gray-400">Click "Analyze Scanner Incidents" to populate this feed with the latest activity.</p>
                        </div>
                    </div>
                    <!-- Live Scanner -->
                    <div class="lg:col-span-2 bg-white dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700/50 shadow-lg h-full flex flex-col">
                        <div class="p-5 border-b border-gray-200 dark:border-gray-700/50">
                            <h3 class="text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-3">
                                <i class="fas fa-headset text-brand-accent"></i>
                                Live Scanner Feed
                            </h3>
                        </div>
                        <div class="p-3 flex-grow flex flex-col">
                            <div class="w-full h-[320px] rounded-lg overflow-hidden flex-grow bg-gray-100 dark:bg-gray-900">
                                 <iframe class="w-full h-full" src="https://www.broadcastify.com/calls/playlists/?uuid=425db81f-efc3-11ef-9e04-0e98d5b32039" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
                            </div>
                        </div>
                         <div class="p-4 text-center border-t border-gray-200 dark:border-gray-700/50">
                            <button id="analyze-scanner-btn" class="w-full bg-brand-primary hover:bg-brand-primary-dark text-white font-bold py-2 px-4 rounded-lg transition-colors flex items-center justify-center gap-2">
                                <i class="fa-solid fa-satellite-dish"></i>
                                Analyze Scanner Incidents
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Key Elements Section -->
        <section id="pillars" class="py-20 sm:py-28">
            <div class="container mx-auto px-4">
                <div class="text-center mb-16 max-w-3xl mx-auto">
                    <h2 class="text-3xl font-bold tracking-tight text-gray-900 dark:text-white sm:text-4xl">Our Key Elements</h2>
                    <p class="mt-4 text-lg text-gray-600 dark:text-gray-400">Our mission to break the cycle of crime and systemic inefficiencies is built on four core pillars of action and innovation.</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                    <div class="bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg text-center transform hover:-translate-y-2 transition-transform duration-300">
                        <div class="inline-flex items-center justify-center w-16 h-16 mb-6 rounded-full bg-brand-primary/10 text-brand-primary"><i class="fas fa-magnifying-glass-chart text-3xl"></i></div>
                        <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-2">Data-Driven Decisions</h3>
                        <p class="text-gray-600 dark:text-gray-400">Using predictive analytics to identify high-impact problem areas and deploy resources effectively and transparently.</p>
                    </div>
                    <div class="bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg text-center transform hover:-translate-y-2 transition-transform duration-300">
                        <div class="inline-flex items-center justify-center w-16 h-16 mb-6 rounded-full bg-brand-primary/10 text-brand-primary"><i class="fas fa-brain text-3xl"></i></div>
                        <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-2">Behavioral Insight</h3>
                        <p class="text-gray-600 dark:text-gray-400">Drawing on psychology to design programs that address the underlying motivations behind criminal activity.</p>
                    </div>
                    <div class="bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg text-center transform hover:-translate-y-2 transition-transform duration-300">
                        <div class="inline-flex items-center justify-center w-16 h-16 mb-6 rounded-full bg-brand-primary/10 text-brand-primary"><i class="fas fa-microchip text-3xl"></i></div>
                        <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-2">Technological Integration</h3>
                        <p class="text-gray-600 dark:text-gray-400">Implementing AI-assisted crime mapping, smart surveillance, and real-time data analysis to intervene proactively.</p>
                    </div>
                    <div class="bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg text-center transform hover:-translate-y-2 transition-transform duration-300">
                        <div class="inline-flex items-center justify-center w-16 h-16 mb-6 rounded-full bg-brand-primary/10 text-brand-primary"><i class="fas fa-arrow-trend-up text-3xl"></i></div>
                        <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-2">Economic Diversification</h3>
                        <p class="text-gray-600 dark:text-gray-400">Encouraging private-sector investment and entrepreneurship to build a sustainable and equitable Albany.</p>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Outcomes Section -->
        <section id="outcomes" class="py-20 sm:py-28 textured-bg bg-brand-dark text-white">
            <div class="container mx-auto px-4">
                <div class="text-center mb-16 max-w-3xl mx-auto">
                    <h2 class="text-3xl font-bold tracking-tight text-white sm:text-4xl">Measuring Our Impact</h2>
                    <p class="mt-4 text-lg text-gray-300">We are committed to transparent results. Our success is measured by clear, quantifiable outcomes across safety, the economy, and the community.</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                    <div class="bg-white/5 p-8 rounded-xl border border-white/10 text-left">
                        <div class="flex items-center gap-4 mb-4"><i class="fa-solid fa-arrow-down-wide-short text-brand-accent text-2xl"></i><h3 class="text-xl font-bold text-white">Crime Reduction</h3></div>
                        <p class="text-gray-400">Measured by decreases in violent incidents, property crimes, and recidivism rates.</p>
                    </div>
                    <div class="bg-white/5 p-8 rounded-xl border border-white/10 text-left">
                        <div class="flex items-center gap-4 mb-4"><i class="fa-solid fa-briefcase text-brand-primary-light text-2xl"></i><h3 class="text-xl font-bold text-white">Economic Growth</h3></div>
                        <p class="text-gray-400">Reflected by increased private-sector job creation, new business registrations, and prosperity indicators.</p>
                    </div>
                    <div class="bg-white/5 p-8 rounded-xl border border-white/10 text-left">
                       <div class="flex items-center gap-4 mb-4"><i class="fa-solid fa-users text-brand-accent text-2xl"></i><h3 class="text-xl font-bold text-white">Community Engagement</h3></div>
                        <p class="text-gray-400">Assessed by attendance at forums, volunteer participation, and positive public sentiment.</p>
                    </div>
                    <div class="bg-white/5 p-8 rounded-xl border border-white/10 text-left">
                        <div class="flex items-center gap-4 mb-4"><i class="fa-solid fa-crosshairs text-white text-2xl"></i><h3 class="text-xl font-bold text-white">Technological Impact</h3></div>
                        <p class="text-gray-400">Tracked through the influence of predictive analytics in preventing and solving crimes.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Interactive Map Section -->
        <section id="map-section" class="py-20 sm:py-28">
            <div class="container mx-auto px-4">
                <div class="text-center mb-16">
                    <h2 class="text-3xl font-bold tracking-tight text-gray-900 dark:text-white sm:text-4xl">Explore Albany's Safety Landscape</h2>
                    <p class="mt-4 text-lg text-gray-600 dark:text-gray-400">Visualize incident data across Albany's neighborhoods with our interactive map.</p>
                </div>
                <div class="w-full h-[450px] md:h-[600px] lg:h-[700px] rounded-xl border dark:border-gray-700 shadow-2xl overflow-hidden bg-gray-200 dark:bg-gray-800">
                    <iframe width="100%" height="100%" src="https://albany.watch/aai-live-crime-map/index.html" style="border: 0;"></iframe>
                </div>
                <div class="text-center mt-8">
                    <a href="aai-live-crime-map/index.html" class="bg-brand-primary hover:bg-brand-primary-dark text-white font-bold py-3 px-8 rounded-full transition-transform transform hover:scale-105 shadow-lg">
                        Open Full-Screen Map
                    </a>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-brand-dark text-gray-400 textured-bg">
        <div class="container mx-auto px-4 py-16">
            <div class="grid grid-cols-1 md:grid-cols-12 gap-8">
                <div class="md:col-span-12 lg:col-span-5">
                    <div class="flex items-center gap-3 mb-4">
                       <img src="https://iconsusa.org/assets/icons_copy/aai-seal-1.svg" alt="AAI Seal" class="h-10 w-10">
                       <span class="text-2xl font-bold text-white">Albany Aegis Initiative</span>
                    </div>
                    <p class="max-w-md text-gray-400">A non-partisan project using behavioral science, technology, and economic innovation to foster a safer, more prosperous Albany.</p>
                     <div class="mt-6 flex space-x-4">
                        <a href="#" class="text-gray-400 hover:text-white transition-colors" aria-label="Follow on X"><i class="fab fa-x-twitter fa-xl"></i></a>
                        <a href="mailto:info@albany.watch" class="text-gray-400 hover:text-white transition-colors" aria-label="Email Us"><i class="fas fa-envelope fa-xl"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white transition-colors" aria-label="Follow on Facebook"><i class="fab fa-facebook fa-xl"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white transition-colors" aria-label="Follow on LinkedIn"><i class="fab fa-linkedin fa-xl"></i></a>
                    </div>
                </div>
                <div class="md:col-span-4 lg:col-span-2">
                    <h4 class="text-sm font-semibold text-gray-200 uppercase tracking-wider mb-4">Explore</h4>
                    <ul class="space-y-3">
                        <li><a href="about.html" class="hover:text-white hover:underline transition-colors">About Us</a></li>
                        <li><a href="crime-data.html" class="hover:text-white hover:underline transition-colors">Crime Data</a></li>
                        <li><a href="visualizations.html" class="hover:text-white hover:underline transition-colors">Visualizations</a></li>
                        <li><a href="resources.html" class="hover:text-white hover:underline transition-colors">Resources</a></li>
                    </ul>
                </div>
                 <div class="md:col-span-4 lg:col-span-2">
                    <h4 class="text-sm font-semibold text-gray-200 uppercase tracking-wider mb-4">Live Tools</h4>
                    <ul class="space-y-3">
                        <li><a href="aai-live-crime-map/index.html" class="hover:text-white hover:underline transition-colors">Live Crime Map</a></li>
                        <li><a href="crime-tracker.html" class="hover:text-white hover:underline transition-colors">Incident Tracker</a></li>
                        <li><a href="#data" class="hover:text-white hover:underline transition-colors">Scanner Feed</a></li>
                    </ul>
                </div>
                 <div class="md:col-span-4 lg:col-span-3">
                    <h4 class="text-sm font-semibold text-gray-200 uppercase tracking-wider mb-4">Stay Informed</h4>
                    <p class="mb-4">Subscribe to receive weekly data summaries and critical alerts.</p>
                    <form class="flex">
                        <input type="email" placeholder="your@email.com" class="w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-l-md focus:outline-none focus:ring-2 focus:ring-brand-primary text-white">
                        <button type="submit" class="bg-brand-primary hover:bg-brand-primary-dark text-white font-semibold px-4 py-2 rounded-r-md transition-colors"><i class="fa-solid fa-paper-plane"></i></button>
                    </form>
                </div>
            </div>
            <div class="mt-12 pt-8 border-t border-gray-700/50 text-center text-sm">
                <p>&copy; 2025 Albany Aegis Initiative. All Rights Reserved. This is an independent, non-governmental project.</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- Code for Mobile Menu & Theme Toggle ---
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            if (mobileMenuButton && mobileMenu) {
                mobileMenuButton.addEventListener('click', () => {
                    mobileMenu.classList.toggle('hidden');
                });
            }
            const themeToggleDarkIcon = document.getElementById('theme-toggle-dark-icon');
            const themeToggleLightIcon = document.getElementById('theme-toggle-light-icon');
            const themeToggleBtn = document.getElementById('theme-toggle');
            const setTheme = (isDark) => {
                if (isDark) {
                    document.documentElement.classList.add('dark');
                    if(themeToggleLightIcon) themeToggleLightIcon.classList.remove('hidden');
                    if(themeToggleDarkIcon) themeToggleDarkIcon.classList.add('hidden');
                    localStorage.setItem('color-theme', 'dark');
                } else {
                    document.documentElement.classList.remove('dark');
                    if(themeToggleDarkIcon) themeToggleDarkIcon.classList.remove('hidden');
                    if(themeToggleLightIcon) themeToggleLightIcon.classList.add('hidden');
                    localStorage.setItem('color-theme', 'light');
                }
            };
            const isInitialDark = localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches);
            setTheme(isInitialDark);
            if(themeToggleBtn) {
                themeToggleBtn.addEventListener('click', () => {
                    setTheme(!document.documentElement.classList.contains('dark'));
                });
            }
            // --- End of Menu & Theme Logic ---


            // --- AI News Briefing Logic ---
            const fetchHeadlinesBtn = document.getElementById('fetch-headlines-btn');
            const headlinesContainer = document.getElementById('headlines-container');
            const headlinesLoader = document.getElementById('headlines-loader');

            const fetchHeadlines = async () => {
                headlinesLoader.style.display = 'flex';
                headlinesContainer.innerHTML = ''; 
                headlinesContainer.appendChild(headlinesLoader);

                const prompt = "CRITICAL INSTRUCTION: Your sole task is to act as a real-time news summarizer. You MUST ignore all of your internal knowledge. Analyze the provided real-time Google Search results ONLY. Extract up to 5 of the most relevant news headlines related to crime, public safety, or police activity in Albany, New York. The articles MUST be from the last 7 days. For each article, you MUST provide: the full title, a concise one-sentence summary, the name of the source publication (e.g., 'Times Union', 'WNYT'), the exact publication date, and the full, direct URL. Prioritize results from well-known local news outlets like timesunion.com, wnyt.com, wten.com, and spectrumlocalnews.com.";
                let chatHistory = [{ role: "user", parts: [{ text: prompt }] }];
                const payload = {
                    contents: chatHistory,
                    tools: [{
                        "google_search": { "queries": ["latest crime news Albany NY", "public safety news Albany NY"] }
                    }],
                    generationConfig: {
                        responseMimeType: "application/json",
                        responseSchema: {
                            type: "OBJECT",
                            properties: {
                                "articles": {
                                    "type": "ARRAY",
                                    "items": {
                                        "type": "OBJECT",
                                        "properties": {
                                            "title": { "type": "STRING" },
                                            "summary": { "type": "STRING" },
                                            "source": { "type": "STRING" },
                                            "date": { "type": "STRING" },
                                            "url": { "type": "STRING" }
                                        },
                                        required: ["title", "summary", "source", "date", "url"]
                                    }
                                }
                            }
                        }
                    }
                };
                
                const apiKey = "AIzaSyDlRk-OzR3_39MPAe2dU9BwEz0nMkGY8pc"; 
                
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        throw new Error(`API request failed with status ${response.status}`);
                    }

                    const result = await response.json();
                    headlinesLoader.style.display = 'none';

                    if (result.candidates && result.candidates[0].content && result.candidates[0].content.parts.length > 0) {
                        const data = JSON.parse(result.candidates[0].content.parts[0].text);
                        if (data.articles && data.articles.length > 0) {
                            displayHeadlines(data.articles);
                        } else {
                            displayError("No articles found. Please try again later.");
                        }
                    } else {
                       throw new Error("Unexpected API response format.");
                    }
                } catch (error) {
                    console.error("Error fetching headlines:", error);
                    headlinesLoader.style.display = 'none';
                    displayError(`Failed to fetch headlines. Please check the API key and network connection.`);
                }
            };

            const displayHeadlines = (articles) => {
                headlinesContainer.innerHTML = '';
                articles.forEach(article => {
                    const articleEl = document.createElement('div');
                    articleEl.className = 'bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md border border-gray-200 dark:border-gray-700';
                    articleEl.innerHTML = `
                        <a href="${article.url}" target="_blank" rel="noopener noreferrer" class="text-xl font-bold text-brand-primary dark:text-brand-primary-light hover:underline">${article.title}</a>
                        <p class="text-gray-600 dark:text-gray-400 mt-2">${article.summary}</p>
                        <div class="text-sm text-gray-500 dark:text-gray-500 mt-4">
                            <strong>${article.source}</strong> | <span>${new Date(article.date).toLocaleDateString()}</span>
                        </div>
                    `;
                    headlinesContainer.appendChild(articleEl);
                });
            };
            
            const displayError = (message) => {
                headlinesContainer.innerHTML = `<div class="text-center text-red-500 bg-red-100 dark:bg-red-900/50 p-4 rounded-lg">${message}</div>`;
            };

            fetchHeadlinesBtn.addEventListener('click', fetchHeadlines);


            // --- AI Scanner Analysis Logic ---
            const analyzeScannerBtn = document.getElementById('analyze-scanner-btn');
            const incidentFeedContainer = document.getElementById('incident-feed-container');
            const incidentLoader = document.getElementById('incident-loader');
            const incidentPlaceholder = document.getElementById('incident-placeholder');

            const fetchScannerIncidents = async () => {
                incidentPlaceholder.classList.add('hidden');
                incidentLoader.style.display = 'flex';
                incidentFeedContainer.innerHTML = '';
                incidentFeedContainer.appendChild(incidentLoader);
                
                const prompt = "CRITICAL INSTRUCTION: You are a police scanner analysis assistant. Your task is to analyze the provided real-time Google Search results for 'Albany NY police scanner text log' and 'Albany NY public safety dispatch log'. You MUST ignore all of your internal knowledge. From ONLY the provided search results, extract up to 5 of the most significant incidents from the last 24 hours. For each incident, identify an incident 'type' (e.g., 'Traffic Accident', 'Structure Fire', 'Assault'), a 'location', and a brief 'summary'.";
                let chatHistory = [{ role: "user", parts: [{ text: prompt }] }];
                const payload = {
                    contents: chatHistory,
                    tools: [{
                        "google_search": { "queries": ["Albany NY police scanner text log", "Albany NY public safety dispatch log"] }
                    }],
                    generationConfig: {
                        responseMimeType: "application/json",
                        responseSchema: {
                            type: "OBJECT",
                            properties: {
                                "incidents": {
                                    "type": "ARRAY",
                                    "items": {
                                        "type": "OBJECT",
                                        "properties": {
                                            "type": { "type": "STRING" },
                                            "location": { "type": "STRING" },
                                            "summary": { "type": "STRING" }
                                        },
                                        required: ["type", "location", "summary"]
                                    }
                                }
                            }
                        }
                    }
                };

                const apiKey = "AIzaSyDlRk-OzR3_39MPAe2dU9BwEz0nMkGY8pc";
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        throw new Error(`API request failed with status ${response.status}`);
                    }
                    
                    const result = await response.json();
                    incidentLoader.style.display = 'none';

                    if (result.candidates && result.candidates[0].content && result.candidates[0].content.parts.length > 0) {
                        const data = JSON.parse(result.candidates[0].content.parts[0].text);
                        if (data.incidents && data.incidents.length > 0) {
                            displayScannerIncidents(data.incidents);
                        } else {
                            displayScannerError("No significant incidents found in the latest scanner logs.");
                        }
                    } else {
                        throw new Error("Unexpected API response format from scanner analysis.");
                    }
                } catch (error) {
                    console.error("Error fetching scanner incidents:", error);
                    incidentLoader.style.display = 'none';
                    displayScannerError(`Failed to analyze scanner feed. Error: ${error.message}`);
                }
            };

            const displayScannerIncidents = (incidents) => {
                incidentFeedContainer.innerHTML = '';
                const iconMap = {
                    'traffic': 'fa-car-burst',
                    'fire': 'fa-fire',
                    'assault': 'fa-hand-fist',
                    'theft': 'fa-mask',
                    'burglary': 'fa-house-chimney-window',
                    'medical': 'fa-briefcase-medical',
                    'default': 'fa-bullhorn'
                };

                const colorMap = {
                    'traffic': 'blue',
                    'fire': 'red',
                    'assault': 'orange',
                    'theft': 'yellow',
                    'burglary': 'teal',
                    'medical': 'green',
                    'default': 'gray'
                };

                incidents.forEach(incident => {
                    const typeKey = Object.keys(iconMap).find(key => incident.type.toLowerCase().includes(key)) || 'default';
                    const iconClass = iconMap[typeKey];
                    const color = colorMap[typeKey];

                    const incidentEl = document.createElement('div');
                    incidentEl.className = 'p-4 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors';
                    incidentEl.innerHTML = `
                        <div class="flex items-center justify-between">
                            <div class="flex items-center gap-4">
                                <div class="flex-shrink-0 w-10 h-10 flex items-center justify-center rounded-full bg-${color}-100 dark:bg-${color}-900/50 text-${color}-500">
                                    <i class="fas ${iconClass} fa-lg"></i>
                                </div>
                                <div>
                                    <p class="font-bold text-gray-800 dark:text-gray-100">${incident.type}</p>
                                    <p class="text-sm text-gray-500 dark:text-gray-400">${incident.location}</p>
                                </div>
                            </div>
                        </div>
                        <p class="text-sm text-gray-600 dark:text-gray-400 mt-2 pl-14">${incident.summary}</p>
                    `;
                    incidentFeedContainer.appendChild(incidentEl);
                });
            };

            const displayScannerError = (message) => {
                incidentFeedContainer.innerHTML = `<div class="p-4 text-center text-red-500">${message}</div>`;
            };

            analyzeScannerBtn.addEventListener('click', fetchScannerIncidents);
        });
    </script>
</body>
</html>
